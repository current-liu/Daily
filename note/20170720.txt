# 自己给自己挖的空指针异常 #
昨天下班时，前端反应在使用openrice中counntUserByZone（）时有时会异常，后台信息是空指针异常。该行代码有zone.get(area)+loc.get(str),后者是新循环的list取值，前者是用工具类返回的area在工具类返回的集合zone中取值，讲道理都不会出空指针，因为都是给定范围内的值。

后来拆分查找后发现是工具类中返回的area写错，观塘区 误写为了观塘，导致后面在用“观塘”在集合zone中取值时出现空指针。

tip：对于函数返回的值多做非空判断，对用key去map里查value要try catch；哪怕是自己的工具类返回的。